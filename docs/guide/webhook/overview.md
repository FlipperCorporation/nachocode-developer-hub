---
sidebar_position: 1
sidebar_label: 웹훅 개요
---

# 웹훅 개요

> 🔔 **최신화 일자:** 2025-02-18

**웹훅**은 Nachocode 기능 사용 시 연동해야 하는 요소입니다. 이 문서는 **웹훅 이벤트 타입** 및 **요청 방식**, **테스트 방법** 대해 안내합니다.

---

<!-- ## 문서 구조

웹훅 문서는 아래와 같은 구조로 구성되어 있습니다:

1. **웹 훅 타입**
   nachocode API의 주요 기능과 개념을 설명합니다.

2. **푸시 알림 API**
   nachocode 플랫폼에서 제공하는 푸시 알림 기능을 다룹니다.
   ➡️ [푸시 알림 API 개요](./push/overview.md)

--- -->

## 웹훅 타입

**Nachocode**에서 제공하는 웹훅 이벤트의 종류는 다음과 같습니다.

| **이벤트 타입** | **이벤트 그룹** | **설명**                |
| --------------- | --------------- | ----------------------- |
| **`purchase`**  | `인앱결제`      | 구매 성공 이벤트입니다. |
| **`refund`**    | `인앱결제`      | 환불 감지 이벤트입니다. |

<!-- ## 지원 기능

nachocode API는 아래와 같은 기능을 제공합니다:

### 1. **푸시 알림 API**

nachocode 플랫폼의 푸시 알림 서비스를 활용하여 유저들에게 실시간으로 메시지를 전달할 수 있습니다.
➡️ [푸시 알림 API](./push/overview.md)

- **개별 푸시 전송**: 특정 유저 ID에 대해 개별 메시지를 전송합니다.

--- -->

## 기본 사항

**Nachocode 웹훅**은 특정 이벤트 발생 시 설정된 엔드포인트로 HTTP 요청을 전송합니다. 모든 웹훅 요청은 공통적인 설정 값을 따르며, 안정적인 연동을 위해 아래 내용을 참고해주세요.

### 웹훅 요청 방식

**Nachocode 웹훅**은 아래와 같은 형식을 통해 이벤트 데이터를 전달합니다.

| **항목**                | **설명**                               |
| ----------------------- | -------------------------------------- |
| **요청 방식**           | `POST`                                 |
| **컨텐츠 타입**         | `application/json`                     |
| **응답 상태 코드 처리** | `2xx` 응답 시 웹훅 전송 성공으로 간주  |
| **요청 제한 시간**      | 10초 (응답 지연 시 요청이 실패로 처리) |
| **재시도 정책**         | ✘ (대시보드에서 재전송 가능)           |

### 요청 정보

**요청 본문**은 웹훅 카테고리 하위에 위치한 각 기능 페이지에서 확인하실 수 있습니다.

---

#### 요청 헤더

웹훅 요청은 다음과 같은 HTTP 헤더를 포함합니다. **Bearer Token**은 대시보드에서 설정한 **웹훅 키**가 존재할 경우에만 설정됩니다.

| **헤더**        | **설명**                    |
| --------------- | --------------------------- |
| `Content-Type`  | `application/json`          |
| `Authorization` | `Bearer {your-webhook-key}` |

### 테스트 방법

웹훅 수신 테스트를 위해서는 다음과 같은 방법을 사용할 수 있습니다.

#### 1. webhook.site 활용

[webhook.site](https://webhook.site/)는 웹훅 요청을 테스트할 수 있는 무료 도구로, Nachocode 웹훅의 요청 데이터를 실시간으로 확인할 수 있습니다.

##### 사용 방법:

1. [webhook.site](https://webhook.site/)에 접속합니다.
2. 페이지를 열면 자동으로 고유한 웹훅 엔드포인트 URL이 생성됩니다.
3. Nachocode 대시보드에서 웹훅 엔드포인트를 **webhook.site에서 생성된 URL**로 설정합니다.
4. 나쵸코드 대시보드에서 테스트할 웹훅 이벤트를 발생시킵니다. (예: 결제 테스트)
5. webhook.site 페이지에서 Nachocode가 전송한 요청 데이터를 확인합니다.
