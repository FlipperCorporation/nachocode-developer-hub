---
sidebar_position: 2
sidebar_label: 토픽 푸시
description: nachocode 개인화 푸시 가이드는 SDK 및 API를 활용한 개인 맞춤형 푸시 알림 전송 방법을 안내합니다. FCM 디바이스 토큰 등록부터 전송, 결과 분석까지 쉽고 효율적으로 관리할 수 있습니다.
keywords:
  [
    푸시 알림,
    개인화 푸시,
    타겟 푸시,
    타겟 알림,
    마케팅 푸시,
    토픽 푸시,
    그룹 푸시,
    사용자 맞춤 메시지,
    FCM 디바이스 토큰,
    나쵸코드 푸시,
    nachocode 푸시,
  ]
---

# 개인화 푸시

> 🔔 **최신화 일자:** 2025-06-04

<!-- 2025-06-04 최초 생성 -->

> **📢 참고:**
>
> 토픽 푸시에서는 유저 식별자와 디바이스 두 가지 방법으로 구독 또는 구독해제에 대한 제어가 가능하지만, <br/>
> 사용자가 아닌 디바이스를 기준으로 구독 또는 구독해제를 수행하기에 사용자에 대한 집계가 아닌 **디바이스에 대한 집계**가 수행됩니다.
>
> 아래 글에서의 "**구독**"이란 "**구독"과 "구독해제**" 모두를 의미합니다.

<br/>
이 문서는 토픽 푸시 전송에 필요한 **준비 과정**과 **프로세스**에 대해 안내합니다.

## **토픽 푸시 전송 프로세스**

### 1. 선행 작업

나쵸코드 대시보드에서 **1)API Key, Secret Key 발급** 및 **2)Firebase 프로젝트 설정파일 등록**이 완료되어야 합니다.

- **API Key, Secret Key**는 안전하고 원활한 API 통신을 위해 필요한 정보로 나쵸코드 대시보드 **[앱 설정]** > **[개발자 설정]** 탭에서 발급 가능합니다.
- **Firebase 프로젝트 설정 파일 등록**에는 아래와 같은 파일이 요구되며, 자세한 과정과 내용은 [사용자 가이드](https://docs.nachocode.io/ko/articles/%ED%91%B8%EC%8B%9C-%EC%95%8C%EB%A6%BC%EA%B0%9C%EC%9D%B8%ED%99%94-0eb97bdb) 탭에서 확인 가능합니다.

  - Firebase 계정 비공개 키
  - Firebase 프로젝트 안드로이드 앱 생성 시 다운로드 받은 파일(`google-service.json`)
  - Firebase 프로젝트 iOS 앱 생성 시 다운로드 받은 파일(`GoogleService-info.plist`)

<br/>

### 2. 토픽 구독/ 토픽 구독 해제

> :white_check_mark: **유저 식별자와 디바이스 모두를 기준으로 구독/구독해제가 가능합니다.**

<br/>

나쵸코드 서버에서는 디바이스를 기준으로 토픽을 관리하고, 사전에 구독된 디바이스를 기준으로 토픽 푸시를 전송합니다.<br/>
토픽 푸시는 기본적으로 **디바이스**를 기준으로 토픽 구독 및 구독해제가 가능하고, **유저 식별자** 기준으로도 토픽 구독이 가능합니다.

<br/>

**[디바이스 기준 ([SDK](@todo))]** <br/>
디바이스를 기준으로의 구독은 개발자가 [SDK](@todo)를 활용하여 **Web Client Side**에서 구독하고자 하는 시점(ex: 이벤트 클릭, 특정 페이지 접속)에 <br/>구독처리를 완료하여야만 토픽 푸시 전송이 가능합니다.

SDK를 활용한 구독은 **유저가 식별되지 않은 상황에서 토픽 구독이 가능**하며, 사전 작업 필요없이 디바이스에 대한 구독이 가능합니다.

특정 이벤트 발생 시점에 디바이스 [구독](@todo)과 [구독해제](@todo) 메서드 호출을 통해 구독 여부를 설정할 수 있습니다.

<br/><br/>

**[유저 식별자 기준 ([API](../../api/push/v2/endpoints.md#request-v2topicsubscription))]** <br/>
유저 식별자 기준으로의 구독은 개발자가 **API를 활용하여 Server Side에서 API Call**을 통해 구독이 가능합니다.

구독 요청을 할 유저 식별자는 사전에 [푸시 토큰 등록 SDK](../../sdk/namespaces/push#registerpushtokenuserid-string-promiseany)를 통해 **나쵸코드 서버에 푸시 토큰이 등록된 적 있는 유저 식별자**이어야 합니다. <br/>

API를 활용한 구독 **유저 식별자가 특정 가능**할 때, 유저의 디바이스를 임의로 구독시켜야할 경우 사용됩니다.<br/>
단, 유저가 푸시 토큰 등록 SDK를 통해 토큰 등록이 완료된 유저의 디바이스에 한하여 구독이 가능합니다. 구독 시, 유저가 소유한 디바이스 전부를 구독시키며, 일부 디바이스에 대한 구독은 불가합니다.

<i>(유저 식별자는 푸시 토큰 식별을 목적으로만 사용되며, 집계 정보 제공 시 유저 식별자 기준의 집계는 수행되지 않습니다.)</i>

<br/><br/><br/>

### 3. 토픽 푸시 전송 ([API](../../api/push/v2/endpoints#request-v2topic))

> :white_check_mark: **토픽 이름만으로 구독된 모든 유저에게 전송이 가능합니다.**

<br/>

특정 토픽을 구독 중인 모든 디바이스를 대상으로 푸시 알림을 전송합니다.

API 호출은 Server 대 Server 요청을 통해 이루어지므로, 푸시 전송 시점을 선정하여 개발자가 **Server Side 로직에 추가**하여야 합니다.  
**전송하고자 하는 내용**과 대시보드에서 발급받은 **API Key, Secret Key**로 요청 데이터를 구성하여 API Endpoint로 푸시 전송을 요청할 수 있습니다.

푸시 전송 요청이 nachocode server로 전달되면 FCM으로의 요청을 수행하고, 구독과 구독해제 프로세스를 통해 집계된 데이터를 관리합니다.

토픽에 대한 푸시가 전송된 뒤 특정 디바이스에 대한 전송을 원하지 않을 경우, 구독해제 [SDK](@todo)(또는 [API](../../api/push/v2/endpoints.md#request-v2topicsubscription-1))호출이 요구됩니다.
<br/>일회성 이벤트 토픽일 경우, 사용 후 구독해제 없이 해당 토픽을 사용하지 않는 방식으로 폐기가 가능합니다.

<br/>

### 4. 전송 결과 확인

각 푸시 요청의 **히스토리**와 **성공 및 실패** 여부 이 외에도 **전송 수**, **클릭 수**과 같이 다양한 집계 데이터를 제공합니다. 이를 통해, 각 푸시의 효과를 분석하여 전략 수립에 활용할 수 있습니다.

푸시 요청에 대한 상세 정보는 [nachocode](https://nachocode.io) 대시보드의 **[앱 기능]** > **[푸시 알림]** > **[토픽 푸시]** 탭에서 확인할 수 있습니다.

<br/><br/><hr style={{ border: "1px solid black", opacity: "0.5"}} /><br/>

## 토픽 푸시 활용 방법(예시)

- **마케팅 캠페인**

  - 상품 조회, 상품 검색 등을 통해 관심을 표시한 디바이스로 푸시 알림을 전송할 수 있습니다.
  - 특정 이벤트에 대한 참여의사를 표시한 디바이스로 푸시 알림을 전송할 수 있습니다.

<br/>

- **불특정 유저 알림 전송**

  - 유저를 식별할 수 없는 상황에서도 이벤트를 통한 구독으로 원하는 디바이스로 푸시 알림 전송이 가능합니다.
  - 비로그인 사용자, 비로그인 서비스일지라도 간편한 그루핑(_Grouping_)을 통한 푸시 알림 전송이 가능합니다.

<br/>

- **이벤트 감지를 통한 알림 전송**

  - 이벤트 페이지 접속 등 특정 이벤트에 대한 참여의사를 표시한 디바이스로 푸시 알림을 전송할 수 있습니다.
  - 특정 인물이 게시물을 작성했을 때, 특정 인물 구독하는 디바이스에게 알림을 전송할 수 있습니다.
