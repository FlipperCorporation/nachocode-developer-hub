"use strict";(self.webpackChunknachocode_developer_hub=self.webpackChunknachocode_developer_hub||[]).push([[238],{160:(e,n,d)=>{d.r(n),d.d(n,{assets:()=>l,contentTitle:()=>t,default:()=>x,frontMatter:()=>i,metadata:()=>r,toc:()=>h});const r=JSON.parse('{"id":"guide/webhook/iap/refund","title":"\uc778\uc571\uacb0\uc81c \ud658\ubd88 \uc774\ubca4\ud2b8","description":"\ud658\ubd88 \uc774\ubca4\ud2b8 \ud0c0\uc785 \uc815\uc758","source":"@site/docs/guide/webhook/iap/refund.md","sourceDirName":"guide/webhook/iap","slug":"/guide/webhook/iap/refund","permalink":"/docs/guide/webhook/iap/refund","draft":false,"unlisted":false,"tags":[],"version":"current","sidebarPosition":2,"frontMatter":{"sidebar_position":2,"sidebar_label":"\ud658\ubd88 (refund)"},"sidebar":"docs","previous":{"title":"\uad6c\ub9e4 (purchase)","permalink":"/docs/guide/webhook/iap/purchase"},"next":{"title":"API","permalink":"/docs/api/intro"}}');var s=d(4848),c=d(8453);const i={sidebar_position:2,sidebar_label:"\ud658\ubd88 (refund)"},t="\uc778\uc571\uacb0\uc81c \ud658\ubd88 \uc774\ubca4\ud2b8",l={},h=[{value:"<strong>\ud658\ubd88 \uc774\ubca4\ud2b8 \ud0c0\uc785 \uc815\uc758</strong>",id:"\ud658\ubd88-\uc774\ubca4\ud2b8-\ud0c0\uc785-\uc815\uc758",level:2},{value:"<strong><code>IapRefundEvent</code></strong>",id:"iaprefundevent",level:3},{value:"<strong><code>PlayStorePurchaseData</code></strong>",id:"playstorepurchasedata",level:3},{value:"<strong><code>AppStorePurchaseData</code></strong>",id:"appstorepurchasedata",level:3},{value:"\uc694\uccad \ubcf8\ubb38 \uc608\uc2dc",id:"\uc694\uccad-\ubcf8\ubb38-\uc608\uc2dc",level:2}];function o(e){const n={blockquote:"blockquote",code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",hr:"hr",p:"p",pre:"pre",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",...(0,c.R)(),...e.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(n.header,{children:(0,s.jsx)(n.h1,{id:"\uc778\uc571\uacb0\uc81c-\ud658\ubd88-\uc774\ubca4\ud2b8",children:"\uc778\uc571\uacb0\uc81c \ud658\ubd88 \uc774\ubca4\ud2b8"})}),"\n",(0,s.jsx)(n.h2,{id:"\ud658\ubd88-\uc774\ubca4\ud2b8-\ud0c0\uc785-\uc815\uc758",children:(0,s.jsx)(n.strong,{children:"\ud658\ubd88 \uc774\ubca4\ud2b8 \ud0c0\uc785 \uc815\uc758"})}),"\n",(0,s.jsxs)(n.blockquote,{children:["\n",(0,s.jsxs)(n.p,{children:["\ud83d\udd14 ",(0,s.jsx)(n.strong,{children:"\ucd5c\uc2e0\ud654 \uc77c\uc790:"})," 2025-02-21"]}),"\n"]}),"\n",(0,s.jsx)(n.h3,{id:"iaprefundevent",children:(0,s.jsx)(n.strong,{children:(0,s.jsx)(n.code,{children:"IapRefundEvent"})})}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-typescript",children:"declare interface IapRefundEvent {\n  userId: string;\n  iapLogId: number;\n  nachoProductId: string;\n  os: 'android' | 'ios';\n  productId: string;\n  productType: 'consumable' | 'non-consumable';\n  quantity: number;\n  price: number;\n  environment: 'sandbox' | 'production';\n  data: PlayStorePurchaseData | AppStorePurchaseData;\n  refundQuantity: number;\n  refundedAt: string;\n}\n"})}),"\n",(0,s.jsxs)(n.table,{children:[(0,s.jsx)(n.thead,{children:(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.th,{children:(0,s.jsx)(n.strong,{children:"\uc18d\uc131\uba85"})}),(0,s.jsx)(n.th,{children:(0,s.jsx)(n.strong,{children:"\ud0c0\uc785"})}),(0,s.jsx)(n.th,{children:(0,s.jsx)(n.strong,{children:"\ud544\uc218 \uc5ec\ubd80"})}),(0,s.jsx)(n.th,{children:(0,s.jsx)(n.strong,{children:"\uc124\uba85"})})]})}),(0,s.jsxs)(n.tbody,{children:[(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:(0,s.jsx)(n.code,{children:"userId"})}),(0,s.jsx)(n.td,{children:(0,s.jsx)(n.code,{children:"string"})}),(0,s.jsx)(n.td,{children:"\u2705"}),(0,s.jsx)(n.td,{children:"\uc778\uc571\uacb0\uc81c\ub97c \uc218\ud589\ud55c \uc571 \uc0ac\uc6a9\uc790\uc758 \uace0\uc720 \uc2dd\ubcc4\uc790"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:(0,s.jsx)(n.code,{children:"iapLogId"})}),(0,s.jsx)(n.td,{children:(0,s.jsx)(n.code,{children:"number"})}),(0,s.jsx)(n.td,{children:"\u2705"}),(0,s.jsx)(n.td,{children:"\uc778\uc571\uacb0\uc81c \uc694\uccad\uc758 \uace0\uc720 \ub85c\uadf8 ID"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:(0,s.jsx)(n.code,{children:"nachoProductId"})}),(0,s.jsx)(n.td,{children:(0,s.jsx)(n.code,{children:"string"})}),(0,s.jsx)(n.td,{children:"\u2705"}),(0,s.jsx)(n.td,{children:"nachocode\uc5d0\uc11c \ubc1c\uae09\ubc1b\uc740 \uc778\uc571 \uc0c1\ud488\uc758 \uace0\uc720 \uc2dd\ubcc4\uc790"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:(0,s.jsx)(n.code,{children:"os"})}),(0,s.jsxs)(n.td,{children:[(0,s.jsx)(n.code,{children:"'android'"})," | ",(0,s.jsx)(n.code,{children:"'ios'"})]}),(0,s.jsx)(n.td,{children:"\u2705"}),(0,s.jsxs)(n.td,{children:["\uc778\uc571\uacb0\uc81c\uac00 \uc774\ub8e8\uc5b4\uc9c4 \uc6b4\uc601 \uccb4\uc81c (",(0,s.jsx)(n.code,{children:"android"}),", ",(0,s.jsx)(n.code,{children:"ios"}),")"]})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:(0,s.jsx)(n.code,{children:"productId"})}),(0,s.jsx)(n.td,{children:(0,s.jsx)(n.code,{children:"string"})}),(0,s.jsx)(n.td,{children:"\u2705"}),(0,s.jsx)(n.td,{children:"\uc2a4\ud1a0\uc5b4\uc5d0 \ub4f1\ub85d\ub41c \uc0c1\ud488\uc758 \uace0\uc720 \uc2dd\ubcc4\uc790"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:(0,s.jsx)(n.code,{children:"productType"})}),(0,s.jsxs)(n.td,{children:[(0,s.jsx)(n.code,{children:"'consumable'"})," | ",(0,s.jsx)(n.code,{children:"'non-consumable'"})]}),(0,s.jsx)(n.td,{children:"\u2705"}),(0,s.jsxs)(n.td,{children:["\uc0c1\ud488 \uc720\ud615 (",(0,s.jsx)(n.code,{children:"consumable"}),": \uc18c\ubaa8\uc131, ",(0,s.jsx)(n.code,{children:"non-consumable"}),": \ube44\uc18c\ubaa8\uc131)"]})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:(0,s.jsx)(n.code,{children:"quantity"})}),(0,s.jsx)(n.td,{children:(0,s.jsx)(n.code,{children:"number"})}),(0,s.jsx)(n.td,{children:"\u2705"}),(0,s.jsx)(n.td,{children:"\uad6c\ub9e4\ud55c \uc0c1\ud488 \uac1c\uc218"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:(0,s.jsx)(n.code,{children:"price"})}),(0,s.jsx)(n.td,{children:(0,s.jsx)(n.code,{children:"number"})}),(0,s.jsx)(n.td,{children:"\u2705"}),(0,s.jsx)(n.td,{children:"\uac1c\ub2f9 \uad6c\ub9e4 \uac00\uaca9"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:(0,s.jsx)(n.code,{children:"environment"})}),(0,s.jsxs)(n.td,{children:[(0,s.jsx)(n.code,{children:"'sandbox'"})," | ",(0,s.jsx)(n.code,{children:"'production'"})]}),(0,s.jsx)(n.td,{children:"\u2705"}),(0,s.jsxs)(n.td,{children:["\uad6c\ub9e4\uac00 \uc774\ub8e8\uc5b4\uc9c4 \ud658\uacbd (",(0,s.jsx)(n.code,{children:"sandbox"}),": \ud14c\uc2a4\ud2b8 \ud658\uacbd, ",(0,s.jsx)(n.code,{children:"production"}),": \uc6b4\uc601 \ud658\uacbd)"]})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:(0,s.jsx)(n.code,{children:"data"})}),(0,s.jsxs)(n.td,{children:[(0,s.jsx)(n.code,{children:"PlayStorePurchaseData"})," | ",(0,s.jsx)(n.code,{children:"AppStorePurchaseData"})]}),(0,s.jsx)(n.td,{children:"\u2705"}),(0,s.jsxs)(n.td,{children:["\uc778\uc571\uacb0\uc81c \ub370\uc774\ud130 \uc815\ubcf4. ",(0,s.jsx)(n.code,{children:"os"}),"\uac00 ",(0,s.jsx)(n.code,{children:"'android'"}),"\uc778 \uacbd\uc6b0 ",(0,s.jsx)(n.code,{children:"PlayStorePurchaseData"}),", ",(0,s.jsx)(n.code,{children:"os"}),"\uac00 ",(0,s.jsx)(n.code,{children:"'ios'"}),"\uc778 \uacbd\uc6b0 ",(0,s.jsx)(n.code,{children:"AppStorePurchaseData"})]})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:(0,s.jsx)(n.code,{children:"refundQuantity"})}),(0,s.jsx)(n.td,{children:(0,s.jsx)(n.code,{children:"number"})}),(0,s.jsx)(n.td,{children:"\u2705"}),(0,s.jsxs)(n.td,{children:["\ud658\ubd88\ub41c \uc218\ub7c9, \ubd80\ubd84 \ud658\ubd88\uc774 \ubc1c\uc0dd\ud55c \uacbd\uc6b0 ",(0,s.jsx)(n.code,{children:"quantity"})," \ubcf4\ub2e4 \uc791\uc744 \uc218 \uc788\uc74c"]})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:(0,s.jsx)(n.code,{children:"refundedAt"})}),(0,s.jsx)(n.td,{children:(0,s.jsx)(n.code,{children:"string (ISO 8601 format)"})}),(0,s.jsx)(n.td,{children:"\u2705"}),(0,s.jsxs)(n.td,{children:["\ud658\ubd88\ub41c \uc2dc\uac04 (",(0,s.jsx)(n.code,{children:"YYYY-MM-DD'T'HH:mm:ss.sss'Z'"}),")"]})]})]})]}),"\n",(0,s.jsx)(n.hr,{}),"\n",(0,s.jsx)(n.h3,{id:"playstorepurchasedata",children:(0,s.jsx)(n.strong,{children:(0,s.jsx)(n.code,{children:"PlayStorePurchaseData"})})}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-typescript",children:"declare type PlayStorePurchaseData = {\n  purchaseToken: string;\n  orderId: string;\n};\n"})}),"\n",(0,s.jsxs)(n.table,{children:[(0,s.jsx)(n.thead,{children:(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.th,{children:(0,s.jsx)(n.strong,{children:"\uc18d\uc131\uba85"})}),(0,s.jsx)(n.th,{children:(0,s.jsx)(n.strong,{children:"\ud0c0\uc785"})}),(0,s.jsx)(n.th,{children:(0,s.jsx)(n.strong,{children:"\ud544\uc218 \uc5ec\ubd80"})}),(0,s.jsx)(n.th,{children:(0,s.jsx)(n.strong,{children:"\uc124\uba85"})})]})}),(0,s.jsxs)(n.tbody,{children:[(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:(0,s.jsx)(n.code,{children:"purchaseToken"})}),(0,s.jsx)(n.td,{children:(0,s.jsx)(n.code,{children:"string"})}),(0,s.jsx)(n.td,{children:"\u2705"}),(0,s.jsx)(n.td,{children:"\uad6c\ub9e4\ub97c \uc2dd\ubcc4\ud558\uae30 \uc704\ud55c \uad6c\ub9e4 \ud1a0\ud070 ID (\uad6c\ub3c5\uc758 \uacbd\uc6b0 \ub3d9\uc77c ID \uc720\uc9c0)"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:(0,s.jsx)(n.code,{children:"orderId"})}),(0,s.jsx)(n.td,{children:(0,s.jsx)(n.code,{children:"string"})}),(0,s.jsx)(n.td,{children:"\u2705"}),(0,s.jsx)(n.td,{children:"\uad6c\ub9e4\uc640 \uc5f0\uacb0\ub41c \uc8fc\ubb38 ID"})]})]})]}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"\uc18c\ubaa8\uc131"})," \ubc0f ",(0,s.jsx)(n.strong,{children:"\ube44\uc18c\ubaa8\uc131"})," \uc0c1\ud488\uc758 \uacbd\uc6b0 ",(0,s.jsx)(n.code,{children:"purchaseToken"}),"\uacfc ",(0,s.jsx)(n.code,{children:"orderId"})," \ubaa8\ub450 ",(0,s.jsx)(n.strong,{children:"unique"}),"\ud55c \uac12\uc784\uc774 \ubcf4\uc7a5\ub429\ub2c8\ub2e4.\n\ub530\ub77c\uc11c \uc720\uc800\uc758 \uad6c\ub9e4\ub97c \uc2dd\ubcc4\ud558\uae30 \uc704\ud55c ",(0,s.jsx)(n.strong,{children:"\uc2dd\ubcc4\uc790"}),"\ub85c \uc0ac\uc6a9\ud560 \uc218 \uc788\uc2b5\ub2c8\ub2e4. \ub610\ud55c ",(0,s.jsx)(n.strong,{children:"Google Play Console"}),"\uc5d0\uc11c \uad6c\ub9e4 \ub0b4\uc5ed \uc2dd\ubcc4\uc2dc\uc5d0\ub3c4 \uc704 \ub370\uc774\ud130\uac00 \ud65c\uc6a9\ub429\ub2c8\ub2e4."]}),"\n",(0,s.jsxs)(n.p,{children:["\ud658\ubd88 \uc774\ubca4\ud2b8\uac00 \ubc1c\uc0dd\ud55c \uacbd\uc6b0 \ud574\ub2f9 \uad6c\ub9e4 \uc2dd\ubcc4\uc790\ub97c \uac00\uc9c0\uace0 \uc788\ub294 \uc720\uc800\uc758 \uc0c1\ud488 \uc811\uadfc \uad8c\ud55c\uc744 ",(0,s.jsx)(n.strong,{children:"\uc81c\ud55c"}),"\ud560 \uc218 \uc788\uc2b5\ub2c8\ub2e4."]}),"\n",(0,s.jsx)(n.h3,{id:"appstorepurchasedata",children:(0,s.jsx)(n.strong,{children:(0,s.jsx)(n.code,{children:"AppStorePurchaseData"})})}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-typescript",children:"declare type AppStorePurchaseData = {\n  originalTransactionId: string;\n  transactionId: string;\n};\n"})}),"\n",(0,s.jsxs)(n.table,{children:[(0,s.jsx)(n.thead,{children:(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.th,{children:(0,s.jsx)(n.strong,{children:"\uc18d\uc131\uba85"})}),(0,s.jsx)(n.th,{children:(0,s.jsx)(n.strong,{children:"\ud0c0\uc785"})}),(0,s.jsx)(n.th,{children:(0,s.jsx)(n.strong,{children:"\ud544\uc218 \uc5ec\ubd80"})}),(0,s.jsx)(n.th,{children:(0,s.jsx)(n.strong,{children:"\uc124\uba85"})})]})}),(0,s.jsxs)(n.tbody,{children:[(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:(0,s.jsx)(n.code,{children:"originalTransactionId"})}),(0,s.jsx)(n.td,{children:(0,s.jsx)(n.code,{children:"string"})}),(0,s.jsx)(n.td,{children:"\u2705"}),(0,s.jsx)(n.td,{children:"\ucd5c\ucd08 \uac70\ub798\uc758 \uace0\uc720 ID"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:(0,s.jsx)(n.code,{children:"transactionId"})}),(0,s.jsx)(n.td,{children:(0,s.jsx)(n.code,{children:"string"})}),(0,s.jsx)(n.td,{children:"\u2705"}),(0,s.jsx)(n.td,{children:"\ud604\uc7ac \uacb0\uc81c \uc694\uccad\uc758 \ud2b8\ub79c\uc7ad\uc158 ID"})]})]})]}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"\uc18c\ubaa8\uc131"})," \ubc0f ",(0,s.jsx)(n.strong,{children:"\ube44\uc18c\ubaa8\uc131"})," \uc0c1\ud488\uc758 \uacbd\uc6b0 ",(0,s.jsx)(n.code,{children:"originalTransactionId"}),"\uc640 ",(0,s.jsx)(n.code,{children:"transactionId"})," \ubaa8\ub450 ",(0,s.jsx)(n.strong,{children:"unique"}),"\ud55c \uac12\uc784\uc774 \ubcf4\uc7a5\ub429\ub2c8\ub2e4."]}),"\n",(0,s.jsxs)(n.p,{children:["\ud658\ubd88 \uc774\ubca4\ud2b8\uac00 \ubc1c\uc0dd\ud55c \uacbd\uc6b0 \ud574\ub2f9 \uad6c\ub9e4 \uc2dd\ubcc4\uc790\ub97c \uac00\uc9c0\uace0 \uc788\ub294 \uc720\uc800\uc758 \uc0c1\ud488 \uc811\uadfc \uad8c\ud55c\uc744 ",(0,s.jsx)(n.strong,{children:"\uc81c\ud55c"}),"\ud560 \uc218 \uc788\uc2b5\ub2c8\ub2e4."]}),"\n",(0,s.jsx)(n.h2,{id:"\uc694\uccad-\ubcf8\ubb38-\uc608\uc2dc",children:"\uc694\uccad \ubcf8\ubb38 \uc608\uc2dc"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-json",children:'{\n  "userId": "testUser",\n  "iapLogId": 1,\n  "nachoProductId": "NP-NXGLSTOEXK-0001",\n  "os": "ios",\n  "productId": "com.nachocode.example.consumable",\n  "productType": "consumable",\n  "quantity": 1,\n  "price": 1000,\n  "environment": "sandbox",\n  "data": {\n    "originalTransactionId": "2000000123456789",\n    "transactionId": "2000000123456789"\n  },\n  "refundQuantity": 1,\n  "refundedAt": "2025-02-19T01:03:26.287Z"\n}\n'})})]})}function x(e={}){const{wrapper:n}={...(0,c.R)(),...e.components};return n?(0,s.jsx)(n,{...e,children:(0,s.jsx)(o,{...e})}):o(e)}},8453:(e,n,d)=>{d.d(n,{R:()=>i,x:()=>t});var r=d(6540);const s={},c=r.createContext(s);function i(e){const n=r.useContext(c);return r.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function t(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(s):e.components||s:i(e.components),r.createElement(c.Provider,{value:n},e.children)}}}]);